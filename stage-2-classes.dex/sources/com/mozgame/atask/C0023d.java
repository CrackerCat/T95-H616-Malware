package com.mozgame.atask;

import android.content.Context;
import android.content.Intent;
import android.os.Looper;
import java.io.IOException;

/* renamed from: com.mozgame.atask.d */
public final class C0023d {
    /* renamed from: a */
    public static C0024e m66a(Context context) {
        if (Looper.myLooper() == Looper.getMainLooper()) {
            throw new IllegalStateException("Cannot be called from the main thread");
        }
        try {
            context.getPackageManager().getPackageInfo("com.android.vending", 0);
            C0025f fVar = new C0025f((byte) 0);
            Intent intent = new Intent("com.google.android.gms.ads.identifier.service.START");
            intent.setPackage("com.google.android.gms");
            if (context.bindService(intent, fVar, 1)) {
                try {
                    C0026g gVar = new C0026g(fVar.mo142a());
                    C0024e eVar = new C0024e(gVar.mo145a(), gVar.mo146a(true));
                    context.unbindService(fVar);
                    return eVar;
                } catch (Exception e) {
                    throw e;
                } catch (Throwable th) {
                    context.unbindService(fVar);
                    throw th;
                }
            } else {
                throw new IOException("Google Play connection failed");
            }
        } catch (Exception e2) {
            throw e2;
        }
    }
}
