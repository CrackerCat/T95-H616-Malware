package com.mozgame.atask;

import android.content.Context;
import android.os.Handler;
import android.os.Looper;
import android.webkit.WebView;
import com.mozgame.atask.bean.IPInfo;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;

/* renamed from: com.mozgame.atask.P */
public final class C0015P {

    /* renamed from: a */
    private static C0015P f43a;
    /* access modifiers changed from: private */

    /* renamed from: b */
    public WebView f44b;
    /* access modifiers changed from: private */

    /* renamed from: c */
    public boolean f45c = false;

    /* renamed from: d */
    private ArrayList f46d = new ArrayList();

    /* renamed from: e */
    private ScheduledExecutorService f47e;
    /* access modifiers changed from: private */

    /* renamed from: f */
    public boolean f48f = false;
    /* access modifiers changed from: private */

    /* renamed from: g */
    public boolean f49g = false;
    /* access modifiers changed from: private */

    /* renamed from: h */
    public Context f50h;

    private C0015P(Context context) {
        this.f50h = context;
        try {
            this.f44b = new WebView(context);
            this.f44b.getSettings().setJavaScriptEnabled(true);
            this.f44b.clearCache(true);
            this.f44b.setWebViewClient(new C0018S(this));
        } catch (Throwable th) {
            C0007H.m22a(context).mo15a("error", "webview" + th.toString());
        }
        this.f47e = Executors.newScheduledThreadPool(1);
    }

    /* renamed from: a */
    public static C0015P m39a(Context context) {
        if (f43a == null) {
            f43a = new C0015P(context);
        }
        return f43a;
    }

    /* renamed from: a */
    static /* synthetic */ void m40a(C0015P p, String str, String str2) {
        synchronized (p) {
            Iterator it = p.f46d.iterator();
            while (it.hasNext()) {
                ((C0019T) it.next()).mo34a(str, str2);
            }
            p.f46d.clear();
        }
    }

    /* renamed from: d */
    static /* synthetic */ void m46d(C0015P p) {
        synchronized (p) {
            Iterator it = p.f46d.iterator();
            while (it.hasNext()) {
                ((C0019T) it.next()).mo33a();
            }
            p.f46d.clear();
        }
    }

    /* renamed from: a */
    public final void mo25a(C0019T t, IPInfo iPInfo) {
        synchronized (this) {
            this.f46d.add(t);
            if (!this.f45c) {
                this.f49g = false;
                this.f48f = false;
                new Handler(Looper.getMainLooper()).post(new C0016Q(this, iPInfo));
                this.f47e.schedule(new C0017R(this), 60, TimeUnit.SECONDS);
            }
        }
    }
}
