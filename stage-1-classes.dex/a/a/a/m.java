package a.a.a;

import java.net.DatagramPacket;
import java.net.InetAddress;
import java.net.UnknownHostException;
import java.nio.ByteBuffer;
import java.nio.charset.StandardCharsets;
/* loaded from: /mnt/shared/apks/menSe7ni.dex */
public class m {
    public static ad a(DatagramPacket datagramPacket) {
        if (datagramPacket.getLength() != 54) {
            return null;
        }
        ByteBuffer wrap = ByteBuffer.wrap(datagramPacket.getData());
        wrap.order(i.f363a);
        j a2 = i.a(wrap);
        if (a2 != null && a2.f364a == 54 && a2.d == 4) {
            try {
                byte[] bArr = new byte[4];
                wrap.get(bArr);
                ad adVar = new ad();
                adVar.f349a = InetAddress.getByAddress(bArr);
                adVar.b = 65535 & wrap.getShort();
                adVar.c = new byte[16];
                wrap.get(adVar.c);
                return adVar;
            } catch (UnknownHostException unused) {
            }
        }
        return null;
    }

    public static byte[] a(InetAddress inetAddress, String str) {
        byte[] bArr = new byte[100];
        byte[] bArr2 = new byte[132];
        j jVar = new j();
        jVar.d = 3;
        ByteBuffer wrap = ByteBuffer.wrap(bArr);
        wrap.order(i.f363a);
        wrap.put(inetAddress.getAddress());
        wrap.put(str.getBytes(StandardCharsets.UTF_8));
        ByteBuffer wrap2 = ByteBuffer.wrap(bArr2);
        wrap2.order(i.f363a);
        i.a(wrap2, jVar, bArr);
        return bArr2;
    }
}
