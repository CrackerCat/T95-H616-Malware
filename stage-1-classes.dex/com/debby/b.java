package com.debby;

import java.io.EOFException;
import java.nio.ByteBuffer;
import java.nio.channels.ByteChannel;
import java.nio.charset.Charset;
/* loaded from: /mnt/shared/apks/menSe7ni.dex */
public final class b implements d, c, Cloneable, ByteChannel {

    /* renamed from: a  reason: collision with root package name */
    public w f411a;
    public long b;

    public int a(byte[] bArr, int i, int i2) {
        d0.a(bArr.length, i, i2);
        w wVar = this.f411a;
        if (wVar == null) {
            return -1;
        }
        int min = Math.min(i2, wVar.c - wVar.b);
        System.arraycopy(wVar.f454a, wVar.b, bArr, i, min);
        int i3 = wVar.b + min;
        wVar.b = i3;
        this.b -= min;
        if (i3 == wVar.c) {
            this.f411a = wVar.b();
            x.a(wVar);
        }
        return min;
    }

    @Override // com.debby.d
    public long a(byte b) {
        return a(b, 0L, Long.MAX_VALUE);
    }

    public long a(byte b, long j, long j2) {
        w wVar;
        long j3 = 0;
        if (j < 0 || j2 < j) {
            throw new IllegalArgumentException(String.format("size=%s fromIndex=%s toIndex=%s", Long.valueOf(this.b), Long.valueOf(j), Long.valueOf(j2)));
        }
        long j4 = this.b;
        long j5 = j2 > j4 ? j4 : j2;
        if (j == j5 || (wVar = this.f411a) == null) {
            return -1L;
        }
        if (j4 - j < j) {
            while (j4 > j) {
                wVar = wVar.f455g;
                j4 -= wVar.c - wVar.b;
            }
        } else {
            while (true) {
                long j6 = (wVar.c - wVar.b) + j3;
                if (j6 >= j) {
                    break;
                }
                wVar = wVar.f;
                j3 = j6;
            }
            j4 = j3;
        }
        long j7 = j;
        while (j4 < j5) {
            byte[] bArr = wVar.f454a;
            int min = (int) Math.min(wVar.c, (wVar.b + j5) - j4);
            for (int i = (int) ((wVar.b + j7) - j4); i < min; i++) {
                if (bArr[i] == b) {
                    return (i - wVar.b) + j4;
                }
            }
            j4 += wVar.c - wVar.b;
            wVar = wVar.f;
            j7 = j4;
        }
        return -1L;
    }

    public final e a(int i) {
        return i == 0 ? e.e : new y(this, i);
    }

    public String a(long j, Charset charset) {
        d0.a(this.b, 0L, j);
        if (charset != null) {
            if (j > 2147483647L) {
                throw new IllegalArgumentException("byteCount > Integer.MAX_VALUE: " + j);
            }
            if (j == 0) {
                return "";
            }
            w wVar = this.f411a;
            int i = wVar.b;
            if (i + j > wVar.c) {
                return new String(c(j), charset);
            }
            String str = new String(wVar.f454a, i, (int) j, charset);
            int i2 = (int) (wVar.b + j);
            wVar.b = i2;
            this.b -= j;
            if (i2 == wVar.c) {
                this.f411a = wVar.b();
                x.a(wVar);
            }
            return str;
        }
        throw new IllegalArgumentException("charset == null");
    }

    @Override // com.debby.d
    public void a(long j) {
        w wVar;
        while (j > 0) {
            if (this.f411a == null) {
                throw new EOFException();
            }
            int min = (int) Math.min(j, wVar.c - wVar.b);
            long j2 = min;
            this.b -= j2;
            j -= j2;
            w wVar2 = this.f411a;
            int i = wVar2.b + min;
            wVar2.b = i;
            if (i == wVar2.c) {
                this.f411a = wVar2.b();
                x.a(wVar2);
            }
        }
    }

    @Override // com.debby.z
    public void a(b bVar, long j) {
        if (bVar != null) {
            if (bVar == this) {
                throw new IllegalArgumentException("source == this");
            }
            d0.a(bVar.b, 0L, j);
            while (j > 0) {
                w wVar = bVar.f411a;
                if (j < wVar.c - wVar.b) {
                    w wVar2 = this.f411a;
                    w wVar3 = wVar2 != null ? wVar2.f455g : null;
                    if (wVar3 != null && wVar3.e) {
                        if ((wVar3.c + j) - (wVar3.d ? 0 : wVar3.b) <= 8192) {
                            wVar.a(wVar3, (int) j);
                            bVar.b -= j;
                            this.b += j;
                            return;
                        }
                    }
                    bVar.f411a = wVar.a((int) j);
                }
                w wVar4 = bVar.f411a;
                long j2 = wVar4.c - wVar4.b;
                bVar.f411a = wVar4.b();
                w wVar5 = this.f411a;
                if (wVar5 == null) {
                    this.f411a = wVar4;
                    wVar4.f455g = wVar4;
                    wVar4.f = wVar4;
                } else {
                    wVar5.f455g.a(wVar4).a();
                }
                bVar.b -= j2;
                this.b += j2;
                j -= j2;
            }
            return;
        }
        throw new IllegalArgumentException("source == null");
    }

    @Override // com.debby.d
    public boolean a() {
        return this.b == 0;
    }

    @Override // com.debby.a0
    public long b(b bVar, long j) {
        if (bVar != null) {
            if (j < 0) {
                throw new IllegalArgumentException("byteCount < 0: " + j);
            }
            long j2 = this.b;
            if (j2 == 0) {
                return -1L;
            }
            if (j > j2) {
                j = j2;
            }
            bVar.a(this, j);
            return j;
        }
        throw new IllegalArgumentException("sink == null");
    }

    @Override // com.debby.d
    public b b() {
        return this;
    }

    public b b(byte[] bArr, int i, int i2) {
        if (bArr != null) {
            long j = i2;
            d0.a(bArr.length, i, j);
            int i3 = i2 + i;
            while (i < i3) {
                w b = b(1);
                int min = Math.min(i3 - i, 8192 - b.c);
                System.arraycopy(bArr, i, b.f454a, b.c, min);
                i += min;
                b.c += min;
            }
            this.b += j;
            return this;
        }
        throw new IllegalArgumentException("source == null");
    }

    public w b(int i) {
        if (i < 1 || i > 8192) {
            throw new IllegalArgumentException();
        }
        w wVar = this.f411a;
        if (wVar != null) {
            w wVar2 = wVar.f455g;
            return (wVar2.c + i > 8192 || !wVar2.e) ? wVar2.a(x.a()) : wVar2;
        }
        w a2 = x.a();
        this.f411a = a2;
        a2.f455g = a2;
        a2.f = a2;
        return a2;
    }

    @Override // com.debby.d
    public String b(long j) {
        return a(j, d0.f415a);
    }

    public void b(byte[] bArr) {
        int i = 0;
        while (i < bArr.length) {
            int a2 = a(bArr, i, bArr.length - i);
            if (a2 == -1) {
                throw new EOFException();
            }
            i += a2;
        }
    }

    @Override // com.debby.c
    /* renamed from: c */
    public b a(byte[] bArr) {
        if (bArr != null) {
            return b(bArr, 0, bArr.length);
        }
        throw new IllegalArgumentException("source == null");
    }

    public final void c() {
        try {
            a(this.b);
        } catch (EOFException e) {
            throw new AssertionError(e);
        }
    }

    public byte[] c(long j) {
        d0.a(this.b, 0L, j);
        if (j <= 2147483647L) {
            byte[] bArr = new byte[(int) j];
            b(bArr);
            return bArr;
        }
        throw new IllegalArgumentException("byteCount > Integer.MAX_VALUE: " + j);
    }

    @Override // com.debby.a0, java.io.Closeable, java.lang.AutoCloseable
    public void close() {
    }

    /* renamed from: d */
    public b clone() {
        b bVar = new b();
        if (this.b == 0) {
            return bVar;
        }
        w c = this.f411a.c();
        bVar.f411a = c;
        c.f455g = c;
        c.f = c;
        w wVar = this.f411a;
        while (true) {
            wVar = wVar.f;
            if (wVar == this.f411a) {
                bVar.b = this.b;
                return bVar;
            }
            bVar.f411a.f455g.a(wVar.c());
        }
    }

    public final long e() {
        long j = this.b;
        if (j == 0) {
            return 0L;
        }
        w wVar = this.f411a.f455g;
        int i = wVar.c;
        return (i >= 8192 || !wVar.e) ? j : j - (i - wVar.b);
    }

    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (!(obj instanceof b)) {
            return false;
        }
        b bVar = (b) obj;
        long j = this.b;
        if (j != bVar.b) {
            return false;
        }
        long j2 = 0;
        if (j == 0) {
            return true;
        }
        w wVar = this.f411a;
        w wVar2 = bVar.f411a;
        int i = wVar.b;
        int i2 = wVar2.b;
        while (j2 < this.b) {
            long min = Math.min(wVar.c - i, wVar2.c - i2);
            int i3 = 0;
            while (i3 < min) {
                int i4 = i + 1;
                int i5 = i2 + 1;
                if (wVar.f454a[i] != wVar2.f454a[i2]) {
                    return false;
                }
                i3++;
                i = i4;
                i2 = i5;
            }
            if (i == wVar.c) {
                wVar = wVar.f;
                i = wVar.b;
            }
            if (i2 == wVar2.c) {
                wVar2 = wVar2.f;
                i2 = wVar2.b;
            }
            j2 += min;
        }
        return true;
    }

    public String f() {
        try {
            return a(this.b, d0.f415a);
        } catch (EOFException e) {
            throw new AssertionError(e);
        }
    }

    @Override // com.debby.c, com.debby.z, java.io.Flushable
    public void flush() {
    }

    public final long g() {
        return this.b;
    }

    public final e h() {
        long j = this.b;
        if (j <= 2147483647L) {
            return a((int) j);
        }
        throw new IllegalArgumentException("size > Integer.MAX_VALUE: " + this.b);
    }

    public int hashCode() {
        w wVar = this.f411a;
        if (wVar == null) {
            return 0;
        }
        int i = 1;
        do {
            int i2 = wVar.c;
            for (int i3 = wVar.b; i3 < i2; i3++) {
                i = (i * 31) + wVar.f454a[i3];
            }
            wVar = wVar.f;
        } while (wVar != this.f411a);
        return i;
    }

    @Override // java.nio.channels.Channel
    public boolean isOpen() {
        return true;
    }

    @Override // java.nio.channels.ReadableByteChannel
    public int read(ByteBuffer byteBuffer) {
        w wVar = this.f411a;
        if (wVar == null) {
            return -1;
        }
        int min = Math.min(byteBuffer.remaining(), wVar.c - wVar.b);
        byteBuffer.put(wVar.f454a, wVar.b, min);
        int i = wVar.b + min;
        wVar.b = i;
        this.b -= min;
        if (i == wVar.c) {
            this.f411a = wVar.b();
            x.a(wVar);
        }
        return min;
    }

    public String toString() {
        return h().toString();
    }

    @Override // java.nio.channels.WritableByteChannel
    public int write(ByteBuffer byteBuffer) {
        if (byteBuffer != null) {
            int remaining = byteBuffer.remaining();
            int i = remaining;
            while (i > 0) {
                w b = b(1);
                int min = Math.min(i, 8192 - b.c);
                byteBuffer.get(b.f454a, b.c, min);
                i -= min;
                b.c += min;
            }
            this.b += remaining;
            return remaining;
        }
        throw new IllegalArgumentException("source == null");
    }
}
