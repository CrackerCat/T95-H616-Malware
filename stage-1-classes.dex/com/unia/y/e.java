package com.unia.y;

import java.io.DataInputStream;
import java.io.InputStream;
import java.nio.ByteBuffer;
/* loaded from: /mnt/shared/apks/menSe7ni.dex */
public class e {

    /* renamed from: a  reason: collision with root package name */
    public int f540a;
    public int b;
    public b c = null;

    /* loaded from: /mnt/shared/apks/menSe7ni.dex */
    public static class a {

        /* renamed from: a  reason: collision with root package name */
        public byte f541a;
        public short c;
        public byte e;

        /* renamed from: g  reason: collision with root package name */
        public int f542g;
        public byte[] h;
        public byte[] b = new byte[4];
        public byte[] d = new byte[16];
        public byte[] f = null;

        public String a() {
            byte[] bArr;
            byte b = this.f541a;
            if (b != 0) {
                String str = "";
                if (b != 1) {
                    return b != 2 ? str : new String(this.f);
                }
                for (int i = 0; i < this.d.length; i++) {
                    str = str + Integer.toHexString(e.a(bArr[i])) + ".";
                }
                return str.substring(0, str.length() - 2);
            }
            return Integer.toString(e.a(this.b[0])) + "." + Integer.toString(e.a(this.b[1])) + "." + Integer.toString(e.a(this.b[2])) + "." + Integer.toString(e.a(this.b[3]));
        }

        public int b() {
            return this.c & 65535;
        }
    }

    /* loaded from: /mnt/shared/apks/menSe7ni.dex */
    public static class b {

        /* renamed from: a  reason: collision with root package name */
        public short f543a;
        public int b;
        public a c = new a();
    }

    public e(int i, byte[] bArr) {
        this.b = 0;
        this.f540a = i;
        if (bArr != null) {
            this.b = bArr.length;
        }
    }

    public e(int i, byte[] bArr, int i2) {
        this.b = 0;
        this.f540a = i;
        this.b = i2;
        if (bArr == null || i2 > 0) {
            return;
        }
        this.b = bArr.length;
    }

    public static int a(byte b2) {
        return b2 & 255;
    }

    public int a() {
        return this.c.f543a;
    }

    public void a(InputStream inputStream) {
        this.c = new b();
        DataInputStream dataInputStream = new DataInputStream(inputStream);
        short readShort = dataInputStream.readShort();
        this.c.b = dataInputStream.readInt();
        b bVar = this.c;
        this.f540a = bVar.b;
        bVar.f543a = readShort;
        if (readShort != 0) {
            if (readShort != 2) {
                if (readShort != 3 && readShort != 4 && readShort != 5) {
                    throw new IllegalStateException("Unexpected: " + ((int) readShort));
                }
                return;
            }
            bVar.c.f542g = dataInputStream.readInt();
            byte[] bArr = new byte[this.c.c.f542g];
            dataInputStream.readFully(bArr);
            this.c.c.h = bArr;
            return;
        }
        a aVar = new a();
        bVar.c = aVar;
        aVar.f541a = dataInputStream.readByte();
        a aVar2 = this.c.c;
        byte b2 = aVar2.f541a;
        if (b2 == 0) {
            dataInputStream.readFully(aVar2.b);
        } else if (b2 != 1) {
            if (b2 != 2) {
                return;
            }
            aVar2.e = dataInputStream.readByte();
            byte[] bArr2 = new byte[this.c.c.e];
            dataInputStream.readFully(bArr2);
            a aVar3 = this.c.c;
            aVar3.f = bArr2;
            aVar3.c = dataInputStream.readShort();
            return;
        } else {
            dataInputStream.readFully(aVar2.d);
        }
        this.c.c.c = dataInputStream.readShort();
    }

    public byte[] a(String str, int i, String str2, int i2) {
        String str3;
        byte[] bytes = (("biz=" + str2 + "&id=" + str + "&nettype=" + i + "&timestamp=" + (System.currentTimeMillis() + "") + "&version=" + i2 + "&os=2") + "&sign=" + g.a(str3 + "&OqCFzjZjv7gEmgRQ")).getBytes();
        ByteBuffer allocate = ByteBuffer.allocate(bytes.length + 4 + 2 + 4);
        allocate.clear();
        allocate.putShort((short) 19);
        allocate.putInt(0);
        allocate.putInt(bytes.length);
        allocate.put(bytes);
        return allocate.array();
    }

    public b b() {
        return this.c;
    }

    public byte[] b(byte b2) {
        ByteBuffer allocate = ByteBuffer.allocate(7);
        allocate.clear();
        allocate.putShort((short) 1);
        allocate.putInt(this.f540a);
        allocate.put(b2);
        return allocate.array();
    }

    public byte[] c() {
        if (this.b <= 0) {
            return null;
        }
        ByteBuffer allocate = ByteBuffer.allocate(10);
        allocate.clear();
        allocate.putShort((short) 2);
        allocate.putInt(this.f540a);
        allocate.putInt(this.b);
        return allocate.array();
    }

    public byte[] d() {
        ByteBuffer allocate = ByteBuffer.allocate(14);
        allocate.clear();
        allocate.putShort((short) 6);
        allocate.putInt(this.f540a);
        allocate.putLong(Long.valueOf(System.currentTimeMillis()).longValue());
        return allocate.array();
    }
}
