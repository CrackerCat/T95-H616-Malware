package com.liberty.lib;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.os.Build;
import android.os.Environment;
import android.os.Process;
import android.os.SystemClock;
import android.text.TextUtils;
import com.liberty.lib.b;
import java.lang.Thread;
import java.text.SimpleDateFormat;
import java.util.Date;
/* compiled from: GFW */
/* loaded from: /mnt/shared/apks/menSe7ni.dex */
public final class be {

    /* renamed from: ו  reason: contains not printable characters */
    private static be f158;

    /* renamed from: ג  reason: contains not printable characters */
    private b.a f162;

    /* renamed from: ד  reason: contains not printable characters */
    private Context f163;

    /* renamed from: ה  reason: contains not printable characters */
    private String f164;

    /* renamed from: א  reason: contains not printable characters */
    private static final String f156 = System.getProperty(a.m0(new byte[]{87, 81, 9, 84, 77, 64, 84, 72, 4, 67, 2, 71, 94, 74}, "18e1c3"));

    /* renamed from: ב  reason: contains not printable characters */
    private static final Thread.UncaughtExceptionHandler f157 = Thread.getDefaultUncaughtExceptionHandler();

    /* renamed from: ז  reason: contains not printable characters */
    private static String f159 = a.m0(new byte[]{85, 17, 3, 64, 90}, "6cb32b");

    /* renamed from: ח  reason: contains not printable characters */
    private static String f160 = a.m0(new byte[]{7, 68, 80, 21, 89, 59, 16, 95, 92, 3}, "d61f1d");

    /* renamed from: ט  reason: contains not printable characters */
    private static String f161 = a.m0(new byte[]{5, 67, 82, 66, 91, 110, 8, 68, 94, 83, 86, 67}, "f13131");

    private be(Context context) {
        this.f163 = context;
    }

    /* renamed from: א  reason: contains not printable characters */
    public static be m103(Context context) {
        if (f158 == null) {
            synchronized (b.class) {
                if (f158 == null) {
                    f158 = new be(context);
                }
            }
        }
        return f158;
    }

    /* renamed from: א  reason: contains not printable characters */
    public final void m114(b.a aVar) {
        m111();
        this.f162 = aVar;
        m113();
    }

    /* renamed from: ה  reason: contains not printable characters */
    private void m111() {
        String str = null;
        if (TextUtils.isEmpty(null)) {
            if (m112() && this.f163.getExternalFilesDir(null) != null) {
                StringBuilder append = new StringBuilder().append(this.f163.getExternalFilesDir(null));
                String str2 = f156;
                str = append.append(str2).append(a.m0(new byte[]{6, 65, 89, 74, 11}, "e389cc")).append(str2).toString();
            } else {
                StringBuilder append2 = new StringBuilder().append(this.f163.getFilesDir());
                String str3 = f156;
                str = append2.append(str3).append(a.m0(new byte[]{5, 69, 3, 18, 89}, "f7ba10")).append(str3).toString();
            }
        } else {
            String str4 = f156;
            if (!str.endsWith(str4)) {
                str = ((String) null) + str4;
            }
        }
        this.f164 = str;
    }

    /* renamed from: ו  reason: contains not printable characters */
    private static boolean m112() {
        return a.m0(new byte[]{84, 89, 16, 88, 71, 86, 93}, "96e633").equals(Environment.getExternalStorageState());
    }

    /* renamed from: ז  reason: contains not printable characters */
    private void m113() {
        Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() { // from class: com.liberty.lib.be.1
            @Override // java.lang.Thread.UncaughtExceptionHandler
            public final void uncaughtException(Thread thread, Throwable th) {
                int i = 0;
                SharedPreferences sharedPreferences = be.this.f163.getSharedPreferences(be.f159, 0);
                long j = sharedPreferences.getLong(be.f160, 0L);
                int i2 = sharedPreferences.getInt(be.f161, 0);
                SharedPreferences.Editor edit = sharedPreferences.edit();
                if (j == 0 || System.currentTimeMillis() - j <= 300000) {
                    i = i2;
                }
                edit.putLong(be.f160, System.currentTimeMillis());
                edit.putInt(be.f161, i + 1);
                edit.apply();
                be.m105(be.this.f163, new SimpleDateFormat(a.m0(new byte[]{26, 78, 76, 64, 111, 116, 46, 104, 81, 93, 29, 113, 43, 104, 88, 84, 111, 74, 16}, "c75909")).format(new Date()), th);
                if (be.this.f162 != null) {
                    be.this.f162.mo85(th);
                    SystemClock.sleep(3000L);
                    Process.killProcess(Process.myPid());
                    System.exit(10);
                } else if (be.f157 == null) {
                } else {
                    be.f157.uncaughtException(thread, th);
                }
            }
        });
    }

    /* renamed from: ב  reason: contains not printable characters */
    private static int m106(Context context) {
        try {
            PackageInfo packageInfo = context.getPackageManager().getPackageInfo(context.getPackageName(), 0);
            if (packageInfo != null) {
                return packageInfo.versionCode;
            }
            return -1;
        } catch (PackageManager.NameNotFoundException e) {
            e.printStackTrace();
            return -1;
        }
    }

    /* renamed from: א  reason: contains not printable characters */
    static /* synthetic */ String m105(Context context, String str, Throwable th) {
        StringBuilder sb = new StringBuilder();
        sb.append(a.m0(new byte[]{73, 24, 24, 73, 24, 26, 73, 24, 24, 73, 24, 26, 73, 18, 126, 12, 85, 16, 43, 87, 83, 7, 18, 26, 73, 24, 24, 73, 24, 26, 73, 24, 24, 73, 24, 26, 73, 24, 24, 105, 102, 89, com.unia.y.ar.f486a, 87, 18, 44, 84, 16, 32, 64, 83, 16, 90, 16, 67, 18, 18, 67, 18, 10, 67}, "c22c20") + str + a.m0(new byte[]{60, 32, 85, 19, 95, 2, 83, 68, 125, 10, 82, 4, 90, 68, 16, 69, 22, 65, 22, 68, 10, 69}, "6d0e6a") + Build.MODEL + a.m0(new byte[]{61, 114, 91, 5, 16, com.unia.y.ar.f486a, 94, 87, 21, 55, 7, 19, 68, 90, 90, 15, 66, 65, 23, 19, 15, 65}, "735aba") + Build.VERSION.RELEASE + a.m0(new byte[]{58, 39, 92, 0, 20, 94, 89, 2, 18, 55, 34, 122, 16, 70, 18, 68, 70, 17, 16, 70, 8, 68}, "0f2df1") + Build.VERSION.SDK_INT + a.m0(new byte[]{110, 116, 69, 22, 18, 53, 1, 71, 70, 15, 93, 13, 42, 84, 88, 3, 18, 67, 68, 21, 15, 70}, "d55f2c") + context.getPackageName() + a.m0(new byte[]{62, 119, 17, 17, 23, 55, 81, 68, 18, 8, 88, 15, 119, 89, 5, 4, 23, 65, 20, 22, 91, 65}, "46aa7a") + m106(context) + a.m0(new byte[]{111, 28, 73, 19, 27, 18, 79, 28, 73, 19, 27, 18, 79, 28, 67, 117, 94, 95, 69, 126, 6, 88, 85, 24, 79, 28, 73, 19, 27, 18, 79, 28, 73, 19, 27, 18, 79, 28, 73, 19, 59, 50}, "e6c918")).append(m.m187(th));
        return sb.toString();
    }
}
