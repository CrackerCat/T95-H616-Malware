package com.liberty.lib;

import android.content.Context;
import android.content.SharedPreferences;
import android.os.Process;
import android.text.TextUtils;
import com.liberty.lib.o;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;
import org.json.JSONException;
import org.json.JSONObject;
/* compiled from: GFW */
/* loaded from: /mnt/shared/apks/menSe7ni.dex */
public class bk {

    /* renamed from: א  reason: contains not printable characters */
    private static final String f189 = com.liberty.lib.a.m0(new byte[]{9, 89, 4, 93, 102, 20, 0, 83, 13, 74, 93, 57, 6, 95, 12, 94, 80, 1}, "e0b89f");

    /* renamed from: ב  reason: contains not printable characters */
    private static final String f190 = com.liberty.lib.a.m0(new byte[]{91, 80, 0, 85, 62, 66, 82, 90, 9, 66, 5, 111}, "79f0a0");

    /* renamed from: ג  reason: contains not printable characters */
    private static int f191 = 0;

    /* renamed from: ט  reason: contains not printable characters */
    private static bk f192;

    /* renamed from: ד  reason: contains not printable characters */
    private a f193;

    /* renamed from: ה  reason: contains not printable characters */
    private Runnable f194 = new Runnable() { // from class: com.liberty.lib.bk.1
        @Override // java.lang.Runnable
        public final void run() {
            bk.this.f193.f203 = System.currentTimeMillis() - bk.this.f193.f202;
            if (bk.f191 % 3 == 0) {
                bk bkVar = bk.this;
                bk.m141(bkVar, bkVar.f193);
            }
            bk.m145();
        }
    };

    /* renamed from: ו  reason: contains not printable characters */
    private ScheduledExecutorService f195;

    /* renamed from: ז  reason: contains not printable characters */
    private final SharedPreferences f196;

    /* renamed from: ח  reason: contains not printable characters */
    private final Context f197;

    /* renamed from: ג  reason: contains not printable characters */
    static /* synthetic */ int m145() {
        int i = f191;
        f191 = i + 1;
        return i;
    }

    /* renamed from: א  reason: contains not printable characters */
    public final void m147() {
        if (!y.m234(ac.f43) || y.m236(ac.f43)) {
            ScheduledExecutorService scheduledExecutorService = this.f195;
            if (scheduledExecutorService != null && !scheduledExecutorService.isShutdown()) {
                return;
            }
            this.f195 = Executors.newSingleThreadScheduledExecutor();
            m144(this.f197);
            this.f193 = new a(Process.myPid(), System.currentTimeMillis());
            this.f195.scheduleAtFixedRate(this.f194, 0L, 2000L, TimeUnit.MILLISECONDS);
        }
    }

    /* renamed from: ב  reason: contains not printable characters */
    private void m144(Context context) {
        if (!i.m182(context)) {
            return;
        }
        for (a aVar : m146()) {
            m140(aVar);
        }
    }

    /* renamed from: א  reason: contains not printable characters */
    private void m140(final a aVar) {
        HashMap hashMap = new HashMap();
        hashMap.put(com.liberty.lib.a.m0(new byte[]{91, 87, 94, 82, 76, 10, 104, 93, 86, 106, 84, 11, 81, 87}, "72058b"), new StringBuilder().append(aVar.f203 / 1000).toString());
        aa.m7(ac.f43, hashMap, new o.b() { // from class: com.liberty.lib.bk.2
            @Override // com.liberty.lib.o.b
            /* renamed from: ב */
            public final void mo66() {
            }

            @Override // com.liberty.lib.o.b
            /* renamed from: א */
            public final void mo64() {
                bk.this.f196.edit().remove(com.liberty.lib.a.m0(new byte[]{85, 11, 95, 93, 57, 75, 92, 1, 86, 74, 2, 102}, "9b98f9") + aVar.f201).commit();
            }
        });
    }

    /* renamed from: ד  reason: contains not printable characters */
    private List<a> m146() {
        ArrayList arrayList = new ArrayList();
        try {
            Iterator<?> it = this.f196.getAll().values().iterator();
            while (it.hasNext()) {
                String str = (String) it.next();
                if (!TextUtils.isEmpty(str)) {
                    arrayList.add(new a(str));
                }
            }
        } catch (Exception e) {
            com.liberty.lib.a.m0(new byte[]{88, 11, 82, 85}, "4b40b6");
            com.liberty.lib.a.m0(new byte[]{85, 93, 3, 85, 25, 65, 92, 87, 10, 66, 93, 19, 94, 81, 17, 16, 75, 86, 90, 91, 23, 84, 25, 86, 65, 87, 0, 64, 77, 90, 86, 90, 95, 16}, "94e093");
            e.getMessage();
        }
        return arrayList;
    }

    private bk(Context context) {
        this.f197 = context;
        this.f196 = context.getSharedPreferences(com.liberty.lib.a.m0(new byte[]{84, 95, 5, 7, 108, 16, 93, 85, 12, 16, 87, 61, 91, 89, 13, 4, 90, 5}, "86cb3b"), 0);
    }

    /* renamed from: א  reason: contains not printable characters */
    public static bk m139(Context context) {
        if (f192 == null) {
            synchronized (bk.class) {
                if (f192 == null) {
                    f192 = new bk(context);
                }
            }
        }
        return f192;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* compiled from: GFW */
    /* loaded from: /mnt/shared/apks/menSe7ni.dex */
    public static final class a {

        /* renamed from: א  reason: contains not printable characters */
        int f201;

        /* renamed from: ב  reason: contains not printable characters */
        long f202;

        /* renamed from: ג  reason: contains not printable characters */
        long f203;

        a(int i, long j) {
            this.f201 = i;
            this.f202 = j;
            this.f203 = 0L;
        }

        a(String str) {
            try {
                JSONObject jSONObject = new JSONObject(str);
                this.f201 = jSONObject.optInt(com.liberty.lib.a.m0(new byte[]{17, 81, 84}, "a80a9f"));
                this.f202 = jSONObject.optLong(com.liberty.lib.a.m0(new byte[]{0, com.unia.y.ar.f486a, 16, 10, 50, 95, 15, 4}, "babdf6"));
                this.f203 = jSONObject.optLong(com.liberty.lib.a.m0(new byte[]{88, 80, 91, 86, 68, 90, 123, 83, 121, 88, 86, 87}, "455102"));
            } catch (JSONException unused) {
                com.liberty.lib.a.m0(new byte[]{89, 95, 94, 1}, "568d9a");
                com.liberty.lib.a.m0(new byte[]{90, 80, 82, 3, 70, 66, 83, 90, 91, 20, 2, 16, 92, 74, 91, 8, 70, 85, 78, 90, 81, 22, 18, 89, 89, 87}, "694ff0");
            } catch (Exception unused2) {
                com.liberty.lib.a.m0(new byte[]{15, 15, 95, 86}, "cf9346");
                com.liberty.lib.a.m0(new byte[]{91, 92, 2, 92, 16, 17, 82, 86, 11, 75, 84, 67, 82, 77, 7, 92, 64, 23, 94, 90, 10}, "75d90c");
            }
        }

        /* renamed from: א  reason: contains not printable characters */
        final String m148() {
            JSONObject jSONObject = new JSONObject();
            try {
                jSONObject.put(com.liberty.lib.a.m0(new byte[]{19, 89, 85}, "c01296"), this.f201);
                jSONObject.put(com.liberty.lib.a.m0(new byte[]{0, 88, 16, 88, 55, 15, 15, 82}, "b7b6cf"), this.f202);
                jSONObject.put(com.liberty.lib.a.m0(new byte[]{10, 80, 13, 94, 23, 80, 41, 83, 47, 80, 5, 93}, "f5c9c8"), this.f203);
            } catch (JSONException unused) {
                com.liberty.lib.a.m0(new byte[]{91, 91, 83, 6}, "725c22");
                com.liberty.lib.a.m0(new byte[]{8, 93, 95, 4, 17, 19, 1, 87, 86, 19, 85, 65, 3, 81, 77, 65, 91, 18, 11, 90, 25, 4, 73, 2, 1, 68, 77, 8, 94, 15}, "d49a1a");
            } catch (Exception unused2) {
                com.liberty.lib.a.m0(new byte[]{89, 89, 86, 6}, "500c1d");
                com.liberty.lib.a.m0(new byte[]{84, 91, 86, 0, 18, 74, 93, 81, 95, 23, 86, 24, 95, 87, 68, 69, 87, 64, 91, 87, 64, 17, 91, 87, 86}, "820e28");
            }
            return jSONObject.toString();
        }
    }

    /* renamed from: א  reason: contains not printable characters */
    static /* synthetic */ void m141(bk bkVar, a aVar) {
        bkVar.f196.edit().putString(f190 + aVar.f201, aVar.m148()).commit();
    }
}
